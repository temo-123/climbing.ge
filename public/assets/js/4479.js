"use strict";(self.webpackChunkclimbing_loc=self.webpackChunkclimbing_loc||[]).push([[4479],{4479:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});const o={props:[],components:{},data:function(){return{mount_route_images:[],mount_route_old_images:[]}},mounted:function(){this.get_old_mount_routes_images()},methods:{get_old_mount_routes_images:function(){var t=this;axios.get("/mount_route/get_mount_routes_images/"+this.$route.params.id).then((function(e){t.mount_route_old_images=e.data})).catch((function(t){return console.log(t)}))},del_old_mount_routes_image_from_db:function(t){var e=this;confirm("Are you sure, you want delite this image?")&&axios.delete("/mount_route/del_mount_route_image/"+t).then((function(t){e.get_old_mount_routes_images()})).catch((function(t){return console.log(t)}))},onFileChange:function(t,e){var i=t.target.files[0],o=e-1;this.mount_route_images[o].image=i,this.upload_img()},upload_img:function(t){this.$emit("mount_route_img",this.mount_route_images)},add_new_mount_route_image_value:function(){var t=this.mount_route_images.length+1;this.mount_route_images.push({id:t,image:""})},del_mount_route_image:function(t){this.removeObjectWithId(this.mount_route_images,t)},removeObjectWithId:function(t,e){var i=t.findIndex((function(t){return t.id===e}));return t.splice(i,1),t}}};const n=(0,i(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._m(1),t._v(" "),e("tbody",t._l(t.mount_route_old_images,(function(i){return e("tr",{key:i.id},[e("td",[e("img",{staticClass:"img-responsive",attrs:{src:"../../../../images/mount_route_description_img/"+i.image,alt:i.image}})]),t._v(" "),e("td",[t._v("|")]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.del_old_mount_routes_image_from_db(i.id)}}},[t._v("Delete")])])])})),0)])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-groupe"},[e("button",{staticClass:"btn btn-primary float-left",on:{click:function(e){return t.add_new_mount_route_image_value()}}},[t._v("Add new mount route image")])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._m(2),t._v(" "),e("tbody",t._l(t.mount_route_images,(function(i){return e("tr",{key:i.id},[e("td",[e("form",{ref:"myForm",refInFor:!0},[e("input",{attrs:{type:"file",name:"image",id:"image"},on:{change:function(e){return t.onFileChange(e,i.id)}}})])]),t._v(" "),e("td",[t._v("|")]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.del_mount_route_image(i.id)}}},[t._v("Delete")])])])})),0)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row"},[this._v("\n                Olredy added\n            ")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Image")]),t._v(" "),e("th",[t._v("|")]),t._v(" "),e("th",[t._v("Delite")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Image")]),t._v(" "),e("th",[t._v("|")]),t._v(" "),e("th",[t._v("Delite")])])])}],!1,null,null,null).exports}}]);