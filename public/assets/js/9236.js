"use strict";(self.webpackChunkclimbing_loc=self.webpackChunkclimbing_loc||[]).push([[9236,9464],{4345:(t,a,r)=>{r.d(a,{Z:()=>s});var i=r(1519),e=r.n(i)()((function(t){return t[1]}));e.push([t.id,".user_breadcrumb{background-color:#e9ecef!important}",""]);const s=e},731:(t,a,r)=>{r.d(a,{Z:()=>s});var i=r(1519),e=r.n(i)()((function(t){return t[1]}));e.push([t.id,".purchase[data-v-19ec3dad]{background-color:#fff;font-family:Times New Roman;min-height:680px;padding:15px;position:relative}.purchase header[data-v-19ec3dad]{border-bottom:1px solid #3989c6;margin-bottom:0;padding:0}.purchase header img[data-v-19ec3dad]{margin-bottom:0;margin-top:0;max-width:200px}.purchase .company-details[data-v-19ec3dad]{margin-bottom:0;margin-top:0;text-align:right}.purchase main[data-v-19ec3dad]{margin-bottom:0;padding:0}.purchase .to-details[data-v-19ec3dad]{text-align:left}.purchase .to-name[data-v-19ec3dad]{font-weight:700}.purchase .to-name .to-address .to-city[data-v-19ec3dad]{margin-bottom:0;margin-top:0}.purchase .purchase-info[data-v-19ec3dad]{text-align:right}.purchase-info .info-code[data-v-19ec3dad]{font-weight:700}.purchase-info .info-code .info-date[data-v-19ec3dad]{margin-bottom:0;margin-top:0}",""]);const s=e},9464:(t,a,r)=>{r.r(a),r.d(a,{default:()=>c});const i={props:["props_page"],components:{},methods:{},data:function(){return{general_pathname:window.location.pathname,path:"",page:"",path_url:""}},mounted:function(){this.page=this.general_pathname.split("/").pop();var t=this.general_pathname.split("/")[1];this.path=t}};var e=r(3379),s=r.n(e),o=r(4345),n={insert:"head",singleton:!1};s()(o.Z,n);o.Z.locals;const c=(0,r(1900).Z)(i,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-md-12"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb user_breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[t._v("\n                Cart\n            ")]),t._v(" "),"confirm_order"==t.props_page||"product_list"==t.props_page||"payment"==t.props_page?a("li",{staticClass:"breadcrumb-item"},[t._v("\n                Paymant\n            ")]):t._e(),t._v(" "),"confirm_order"==t.props_page||"product_list"==t.props_page?a("li",{staticClass:"breadcrumb-item"},[t._v("\n                Product list\n            ")]):t._e(),t._v(" "),"confirm_order"==t.props_page?a("li",{staticClass:"breadcrumb-item"},[t._v("\n                Confirm order\n            ")]):t._e()])])])}),[],!1,null,null,null).exports},9236:(t,a,r)=>{r.r(a),r.d(a,{default:()=>l});function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function e(t,a,r){return(a=function(t){var a=function(t,a){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,a||"default");if("object"!==i(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"===i(a)?a:String(a)}(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}const s={components:{productDradcrumb:r(9464).default},props:[],data:function(){var t;return e(t={cart_items:[],is_products_refresh:!1,products_reset_id:0,quantity:"",total_price:0,price:0,user_id:0,payment:"",adres:"",activ_adres:"",adres_show:!1,shiping_country:[],shiping:0,order_product_list:"",payment_tupe:""},"adres",""),e(t,"create_order_loading",!1),t},mounted:function(){this.$route.params.payment||this.$route.params.adres?(this.payment=this.$route.params.payment,this.adres=this.$route.params.adres):this.go_back(),this.get_products_cart()},methods:{go_back:function(){this.$router.go(-1)},get_products_cart:function(){var t=this;axios.get("../../../../api/cart/").then((function(a){t.cart_items=a.data,t.user_id=a.data[0].user_id,t.get_activ_adres(t.$route.params.adres)})).catch((function(t){return console.log(t)}))},colculat_total_price:function(){var t=this;this.total_price=0,this.price=0,this.cart_items.forEach((function(a){a.quantity>1?t.price=a.quantity*a.option.price:t.price=parseInt(a.option.price),t.total_price=t.total_price+t.price})),this.shiping_country.free_shiping_price_after&&this.shiping_country.free_shiping_price_after<=this.total_price?this.shiping=0:(this.shiping_country.free_shiping_price_after&&this.shiping_country.free_shiping_price_after>this.total_price||this.shiping_country.free_shiping_price_after,this.shiping=this.shiping_country.shiping_price),this.shiping=Number(this.shiping),this.total_price=this.total_price+this.shiping},colculat_items_price:function(t,a){return t*a},update_quantity:function(t,a){var r=this;axios.post("../../../../api/cart/update_quantity/"+t,{quantity:a}).then((function(t){r.get_products_cart()})).catch((function(t){return console.log(t)}))},del_from_cart:function(t){var a=this;confirm("Are you sure, you want delite it?")&&axios.delete("../../../../api/cart/"+t).then((function(t){a.get_products_cart()})).catch((function(t){return console.log(t)}))},get_activ_adres:function(t){var a=this;axios.get("../../../api/get_activ_adres/"+t).then((function(t){a.activ_adres=t.data,a.get_activ_country(t.data.country_id)})).catch((function(t){return console.log(t)}))},get_activ_country:function(t){var a=this;axios.get("../../../api/get_activ_country/"+t).then((function(t){a.shiping_country=t.data,a.colculat_total_price()})).catch((function(t){return console.log(t)}))},create_order:function(){var t=this;this.create_order_loading=!0,axios.post("../../../api/order/",{order_product_list:this.cart_items,payment_tupe:this.$route.params.payment,adres:this.$route.params.adres,shiping:this.shiping,_method:"POST"}).then((function(a){t.$router.push({name:"confirmOrder",params:{order_decloration:!0}})})).catch((function(t){return console.log(t)})).finally((function(){return t.create_order_loading=!1}))}}};var o=r(3379),n=r.n(o),c=r(731),_={insert:"head",singleton:!1};n()(c.Z,_);c.Z.locals;const l=(0,r(1900).Z)(s,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"container purchase overflow-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-primary pull-left",on:{click:t.go_back}},[t._v("Back")])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-primary float-right",on:{click:function(a){return t.create_order()}}},[t._v("Complete order decloration")])])]),t._v(" "),a("div",{staticClass:"row"},[a("productDradcrumb",{attrs:{props_page:"product_list"}})],1),t._v(" "),t.create_order_loading?a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-4"},[a("img",{attrs:{src:"../../../public/images/site_img/loading.gif",alt:"loading"}})])]):t.create_order_loading?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"alert alert-secondary"},[a("h2",{staticClass:"text-center"},[t._v("Your adres - "+t._s(t.activ_adres.name)+" \n                                ("),t.adres_show?t.adres_show?a("span",{staticClass:"cursor_pointre",on:{click:function(a){t.adres_show=!t.adres_show}}},[t._v("Close")]):t._e():a("span",{staticClass:"cursor_pointre",on:{click:function(a){t.adres_show=!t.adres_show}}},[t._v("Show")]),t._v(")\n                            ")]),t._v(" "),t.adres_show?a("span",[a("p",[t._v("Country - "+t._s(t.activ_adres.country_id))]),t._v(" "),a("p",[t._v("City - "+t._s(t.activ_adres.city))]),t._v(" "),a("p",[t._v("Strit - "+t._s(t.activ_adres.strit))]),t._v(" "),a("p",[t._v("Number - "+t._s(t.activ_adres.number))]),t._v(" "),a("p",[t._v("Floor - "+t._s(t.activ_adres.floor))]),t._v(" "),a("p",[t._v("Flat - "+t._s(t.activ_adres.flat))]),t._v(" "),a("p",[t._v("Entrance - "+t._s(t.activ_adres.entrance))]),t._v(" "),a("p",[t._v("Zip Code - "+t._s(t.activ_adres.zip_code))])]):t._e()])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"alert alert-secondary"},[a("h2",[t._v(t._s(t.$route.params.payment))])])])]),t._v(" "),t.create_order_loading?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-xs-12 table-responsive"},[a("table",{staticClass:"table table-condensed",attrs:{border:"0",cellspacing:"0",cellpadding:"0",width:"100%"}},[t._m(0),t._v(" "),a("tbody",t._l(t.cart_items,(function(r){return a("tr",{key:r.id},[a("td",{staticClass:"col-xs-1 col-sm-1 text-center"},[t._v("1")]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(r.product.url_title))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v("\n                                        "+t._s(r.quantity)+" \n                                        "),t._v("\n                                        Pcs\n                                    ")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v("\n                                        Price \n                                        "+t._s(t.colculat_items_price(r.option.price,r.quantity))+" ₾ ("+t._s(r.option.price)+" ₾)\n                                    ")]),t._v(" "),a("td",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger",on:{click:function(a){return t.del_from_cart(r.id)}}},[t._v("X")])])])})),0),t._v(" "),t._m(1),t._v(" "),a("tfoot",[a("tr",[a("th",{staticStyle:{background:"#fff"},attrs:{colspan:"2"}}),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Shiping")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v(" Free shiping after - "+t._s(t.shiping_country.free_shiping_price_after)+" ₾ ")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v(t._s(t.shiping)+" ₾")])])]),t._v(" "),a("tfoot",[a("tr",[a("th",{staticStyle:{background:"#fff"},attrs:{colspan:"3"}}),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Total price")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v(t._s(t.total_price)+" ₾")])])]),t._v(" "),a("tfoot",[a("tr",[a("th",{staticStyle:{background:"#fff"},attrs:{colspan:"3"}}),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Discount")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v(t._s(t.$route.params.discount)+" %")])])])])])])])])])])}),[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",{staticClass:"text-center col-xs-1 col-sm-1"},[t._v("#")]),t._v(" "),a("th",{staticClass:"text-center col-xs-7 col-sm-7"},[t._v("Name")]),t._v(" "),a("th",{staticClass:"text-center col-xs-1 col-sm-1"},[t._v("Qty")]),t._v(" "),a("th",{staticClass:"text-right col-xs-3 col-sm-3"},[t._v("Amount")]),t._v(" "),a("th",{staticClass:"text-right col-xs-3 col-sm-3"},[t._v("Del")])])])},function(){var t=this,a=t._self._c;return a("tfoot",[a("tr",[a("th",{staticStyle:{background:"#fff"},attrs:{colspan:"3"}}),t._v(" "),a("th",{staticClass:"text-right"},[t._v("Price after discounting")]),t._v(" "),a("th",{staticClass:"text-right"},[t._v("333 ₾")])])])}],!1,null,"19ec3dad",null).exports}}]);