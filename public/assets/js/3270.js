"use strict";(self.webpackChunkclimbing_loc=self.webpackChunkclimbing_loc||[]).push([[3270],{3270:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});const i={props:[],components:{},data:function(){return{sector_images:[],spot_rocks_old_images:[]}},mounted:function(){this.get_old_sector_images()},methods:{get_old_sector_images:function(){var t=this;axios.get("/spot_rock_images/get_spot_rock_images/"+this.$route.params.id).then((function(e){t.spot_rocks_old_images=e.data})).catch((function(t){return console.log(t)}))},del_old_sector_image_from_db:function(t){var e=this;confirm("Are you sure, you want delite this image?")&&axios.delete("/spot_rock_images/del_spot_rock_image/"+t).then((function(t){e.get_old_sector_images()})).catch((function(t){return console.log(t)}))},onFileChange:function(t,e){var s=t.target.files[0],i=e-1;this.sector_images[i].image=s,this.upload_img()},upload_img:function(t){this.$emit("area_images",this.sector_images)},add_new_sector_image_value:function(){var t=this.sector_images.length+1;this.sector_images.push({id:t,image:""})},del_sector_image:function(t){this.removeObjectWithId(this.sector_images,t)},removeObjectWithId:function(t,e){var s=t.findIndex((function(t){return t.id===e}));return t.splice(s,1),t}}};const a=(0,s(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._m(1),t._v(" "),e("tbody",t._l(t.spot_rocks_old_images,(function(s){return e("tr",{key:s.id},[e("td",[e("img",{staticClass:"img-responsive",attrs:{src:"../../../../images/spot_rocks_img/"+s.image,alt:s.image}})]),t._v(" "),e("td",[t._v("|")]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.del_old_sector_image_from_db(s.id)}}},[t._v("Delete")])])])})),0)])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-groupe"},[e("button",{staticClass:"btn btn-primary float-left",on:{click:function(e){return t.add_new_sector_image_value()}}},[t._v("Add new sector image")])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._m(2),t._v(" "),e("tbody",t._l(t.sector_images,(function(s){return e("tr",{key:s.id},[e("td",[e("form",{ref:"myForm",refInFor:!0},[e("input",{attrs:{type:"file",name:"image",id:"image"},on:{change:function(e){return t.onFileChange(e,s.id)}}})])]),t._v(" "),e("td",[t._v("|")]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.del_sector_image(s.id)}}},[t._v("Delete")])])])})),0)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row"},[this._v("\n                Olredy added\n            ")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Image")]),t._v(" "),e("th",[t._v("|")]),t._v(" "),e("th",[t._v("Delite")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Image")]),t._v(" "),e("th",[t._v("|")]),t._v(" "),e("th",[t._v("Delite")])])])}],!1,null,null,null).exports}}]);