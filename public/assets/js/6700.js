"use strict";(self.webpackChunkclimbing_loc=self.webpackChunkclimbing_loc||[]).push([[6700],{6546:(t,n,i)=>{i.d(n,{Z:()=>o});var e=i(1519),a=i.n(e)()((function(t){return t[1]}));a.push([t.id,"",""]);const o=a},8699:(t,n,i)=>{i.r(n),i.d(n,{default:()=>l});var e=i(6247),a=i(2586);const o={components:{StackModal:i.n(a)(),SlickItem:e.SlickItem,SlickList:e.SlickList},props:[],data:function(){return{product_options:[],product_category:[],us_product:[],product:[],is_add_option_modal:!1,adding_option_images:[],is_loading:!1,is_loading_editing_modal:!1,adding_data:{currency:"₾",name:"",price:"",quantity:10},is_edit_option_modal:!1,editing_option_images:[],editing_data:{currency:"₾",name:"",price:"",quantity:10},editing_option_id:0}},mounted:function(){this.get_activ_product_options()},methods:{get_activ_product_options:function(){var t=this;axios.get("../../api/product_option/get_activ_product_options/"+this.$route.params.product_id).then((function(n){t.product_options=n.data.options,t.product=n.data.product,t.us_product=n.data.us_product,t.product_category=n.data.product})).catch((function(t){}))},onFileChange:function(t,n){var i=t.target.files[0],e=n-1;this.adding_option_images[e].image=i},del_option_image:function(t){this.removeObjectWithId(this.adding_option_images,t)},removeObjectWithId:function(t,n){var i=t.findIndex((function(t){return t.id===n}));return t.splice(i,1),t},get_editing_option:function(t){var n=this;this.is_loading_editing_modal=!0,axios.get("../../../api/product_option/get_editing_option/"+t).then((function(i){n.is_edit_option_modal=!0,n.editing_option_images=i.data.option_images,n.editing_data={currency:i.data.option.currency,name:i.data.option.name,price:i.data.option.price,quantity:i.data.option.quantity},n.editing_option_id=t})).catch((function(t){return console.log(t)})).finally((function(){n.is_loading_editing_modal=!1}))},edit_option_modal:function(t){this.get_editing_option(t)},edit_option:function(){var t=this;this.is_loading=!0;var n=new FormData,i=0;this.adding_option_images.forEach((function(t){n.append("images["+i+"]",t.image),i++})),i=0,n.append("data",JSON.stringify(this.editing_data)),axios.post("../../../api/product_option/edit_option/"+this.editing_option_id,n).then((function(n){t.close_option_edit_model(),t.get_activ_product_options()})).catch((function(t){return console.log(t)})).finally((function(){t.is_loading=!1}))},close_option_edit_model:function(){this.is_edit_option_modal=!1,this.editing_option_images=[],this.adding_option_images=[],this.editing_data={currency:"₾",name:"",price:"",quantity:10},this.editing_option_id=0},del_option:function(t){var n=this;confirm("Are you sure, you want delite this option?")&&axios.delete("../../../api/product_option/del_option/"+t).then((function(t){n.get_activ_product_options()})).catch((function(t){return console.log(t)}))},del_option_image_from_db:function(t){var n=this;confirm("Are you sure, you want delite this image?")&&axios.delete("../../../api/product_option/del_option_image/"+t).then((function(t){n.get_editing_option(n.editing_option_id)})).catch((function(t){return console.log(t)}))},add_option:function(){var t=this;this.is_loading=!0;var n=new FormData,i=0;this.adding_option_images.forEach((function(t){n.append("images["+i+"]",t.image),i++})),i=0,n.append("data",JSON.stringify(this.adding_data)),n.append("product_id",this.$route.params.product_id),axios.post("../../../api/product_option/add_option/",n).then((function(n){t.close_option_add_model(),t.get_activ_product_options()})).catch((function(t){return console.log(t)})).finally((function(){t.is_loading=!1}))},close_option_add_model:function(){this.is_add_option_modal=!1,this.adding_data={currency:"₾",name:"",price:"",quantity:10},this.adding_option_images=[]},new_option_model:function(){this.is_add_option_modal=!0},add_new_option_image_value:function(){var t=this.adding_option_images.length+1;this.adding_option_images.push({id:t,image:""})},go_back:function(){window.confirm("Added information will be deleted!!! Are you sure, you want go back?")&&this.$router.go(-1)}}};var d=i(3379),s=i.n(d),_=i(6546),r={insert:"head",singleton:!1};s()(_.Z,r);_.Z.locals;const l=(0,i(1900).Z)(o,(function(){var t=this,n=t._self._c;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"row"},[t._m(0),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-groupe"},[n("button",{staticClass:"btn btn-success float-right",on:{click:function(n){return t.go_back()}}},[t._v("Go back")])])])])]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("h1",[t._v("Product title - "),n("strong",[t._v(t._s(t.us_product.title))])]),t._v(" "),null!=t.product.material?n("p",[t._v("Material - "),n("strong",[t._v(t._s(t.product.material))])]):t._e(),t._v(" "),null!=t.product.discount?n("p",[t._v("Discount - "),n("strong",[t._v(t._s(t.product.discount)+" %")])]):t._e(),t._v(" "),null!=t.product.mead_in_georgia?n("p",[t._v("Mead in georgia - "),n("strong",[t._v(t._s(t.product.mead_in_georgia))])]):t._e(),t._v(" "),n("p",[t._v("Sale type - "),n("strong",[t._v(t._s(t.product.sale_type))])]),t._v(" "),n("p",[t._v("Category - "),n("strong",[t._v(t._s(t.product.product_category.us_name))])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-groupe"},[n("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"productEdit",params:{id:t.product.id}}}},[t._v("Edit product")])],1)])]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-groupe"},[n("button",{staticClass:"btn btn-primary",on:{click:function(n){return t.new_option_model()}}},[t._v("Add new option")])])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-groupe float-right"},[n("button",{staticClass:"btn btn-success",on:{click:function(n){return t.get_activ_product_options()}}},[t._v("Refresh")])])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._m(2),t._v(" "),t.product_options!=[]?n("tbody",t._l(t.product_options,(function(i){return n("tr",{key:i.id},[n("td",[t._v(t._s(i.id))]),t._v(" "),n("td",[t._v("|")]),t._v(" "),n("td",[t._v(t._s(i.name)+" ")]),t._v(" "),n("td",[t._v("|")]),t._v(" "),n("td",[t.is_loading_editing_modal?t._e():n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(n){return t.edit_option_modal(i.id)}}},[t._v("Edit")]),t._v(" "),t.is_loading_editing_modal?n("img",{staticStyle:{width:"20%"},attrs:{src:"../../../../../../public/images/site_img/loading.gif",alt:"loading"}}):t._e()]),t._v(" "),n("td",[t._v("|")]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(n){return t.del_option(i.id)}}},[t._v("Delete")])])])})),0):t._e()])])])]),t._v(" "),n("stack-modal",{attrs:{show:t.is_add_option_modal,title:"Add option",saveButton:{visible:!0,title:"Save",btnClass:{"btn btn-primary":!0}},cancelButton:{visible:!1,title:"Close",btnClass:{"btn btn-danger":!0}}},on:{close:t.close_option_add_model}},[n("pre",{staticClass:"language-vue"},[t._v("            "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_loading,expression:"is_loading"}],staticClass:"row justify-content-center"},[t._v("\n                "),n("div",{staticClass:"col-md-4"},[t._v("\n                    "),n("img",{attrs:{src:"../../../../../../public/images/site_img/loading.gif",alt:"loading"}}),t._v("\n                ")]),t._v("\n            ")]),t._v("\n\n            "),n("form",{directives:[{name:"show",rawName:"v-show",value:!t.is_loading,expression:"!is_loading"}],attrs:{id:"add_new_option"},on:{submit:function(n){return n.preventDefault(),t.add_option.apply(null,arguments)}}},[t._v("\n                Name\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.adding_data.name,expression:"adding_data.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"Name",title:"enter your name",required:""},domProps:{value:t.adding_data.name},on:{input:function(n){n.target.composing||t.$set(t.adding_data,"name",n.target.value)}}}),t._v("\n                Price\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.adding_data.price,expression:"adding_data.price"}],staticClass:"form-control",attrs:{type:"number",name:"name",placeholder:"Price",title:"enter your name",required:""},domProps:{value:t.adding_data.price},on:{input:function(n){n.target.composing||t.$set(t.adding_data,"price",n.target.value)}}}),t._v("\n                Currency\n                "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.adding_data.currency,expression:"adding_data.currency"}],staticClass:"form-control",attrs:{name:"currency"},on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.adding_data,"currency",n.target.multiple?i:i[0])}}},[t._v(" \n                    "),n("option",{attrs:{value:"₾"}},[t._v("₾")]),t._v(" \n                    "),n("option",{attrs:{value:"$",disabled:""}},[t._v("$")]),t._v(" \n                    "),n("option",{attrs:{value:"€",disabled:""}},[t._v("€")]),t._v(" \n                ")]),t._v(" \n                Quantity\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.adding_data.quantity,expression:"adding_data.quantity"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"quantity",title:"enter your name",required:""},domProps:{value:t.adding_data.quantity},on:{input:function(n){n.target.composing||t.$set(t.adding_data,"quantity",n.target.value)}}}),t._v("\n            ")]),t._v("\n\n            "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.is_loading,expression:"!is_loading"}]},[t._v("\n                "),n("button",{staticClass:"btn btn-primary float-left",on:{click:function(n){return t.add_new_option_image_value()}}},[t._v("Add new mount route image")]),t._v("\n                "),n("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._v("\n                    "),n("thead",[t._v("\n                        "),n("tr",[t._v("\n                            "),n("th",[t._v("Image")]),t._v("\n                            "),n("th",[t._v("|")]),t._v("\n                            "),n("th",[t._v("Delite")]),t._v("\n                        ")]),t._v("\n                    ")]),t._v("\n\n                    "),n("tbody",[t._v("\n                        "),t._l(t.adding_option_images,(function(i){return n("tr",{key:i.id},[t._v("\n                            "),n("td",[t._v("\n                                "),n("form",{ref:"myForm",refInFor:!0},[t._v("\n                                    "),n("input",{attrs:{type:"file",name:"image",id:"image"},on:{change:function(n){return t.onFileChange(n,i.id)}}}),t._v("\n                                ")]),t._v(" \n                            ")]),t._v("\n                            "),n("td",[t._v("|")]),t._v("\n                            "),n("td",[t._v("\n                                "),n("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.del_option_image(i.id)}}},[t._v("Delete")]),t._v("\n                            ")]),t._v("\n                        ")])})),t._v("\n                    ")],2),t._v("\n                ")]),t._v("\n            ")]),t._v("\n        ")]),t._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",form:"add_new_option"}},[t._v("Add new option")])])])]),t._v(" "),n("stack-modal",{attrs:{show:t.is_edit_option_modal,title:"Edit option",saveButton:{visible:!0,title:"Save",btnClass:{"btn btn-primary":!0}},cancelButton:{visible:!1,title:"Close",btnClass:{"btn btn-danger":!0}}},on:{close:t.close_option_edit_model}},[n("pre",{staticClass:"language-vue"},[t._v("            "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_loading,expression:"is_loading"}],staticClass:"row justify-content-center"},[t._v("\n                "),n("div",{staticClass:"col-md-4"},[t._v("\n                    "),n("img",{attrs:{src:"../../../../../../public/images/site_img/loading.gif",alt:"loading"}}),t._v("\n                ")]),t._v("\n            ")]),t._v("\n\n            "),n("form",{directives:[{name:"show",rawName:"v-show",value:!t.is_loading,expression:"!is_loading"}],attrs:{id:"edit_new_option"},on:{submit:function(n){return n.preventDefault(),t.edit_option.apply(null,arguments)}}},[t._v("\n                Name\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editing_data.name,expression:"editing_data.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"Name",title:"enter your name",required:""},domProps:{value:t.editing_data.name},on:{input:function(n){n.target.composing||t.$set(t.editing_data,"name",n.target.value)}}}),t._v("\n                Price\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editing_data.price,expression:"editing_data.price"}],staticClass:"form-control",attrs:{type:"number",name:"name",placeholder:"Price",title:"enter your name",required:""},domProps:{value:t.editing_data.price},on:{input:function(n){n.target.composing||t.$set(t.editing_data,"price",n.target.value)}}}),t._v("\n                Currency\n                "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.editing_data.currency,expression:"editing_data.currency"}],staticClass:"form-control",attrs:{name:"currency"},on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.editing_data,"currency",n.target.multiple?i:i[0])}}},[t._v(" \n                    "),n("option",{attrs:{value:"₾"}},[t._v("₾")]),t._v(" \n                    "),n("option",{attrs:{value:"$",disabled:""}},[t._v("$")]),t._v(" \n                    "),n("option",{attrs:{value:"€",disabled:""}},[t._v("€")]),t._v(" \n                ")]),t._v(" \n                Quantity\n                "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editing_data.quantity,expression:"editing_data.quantity"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"quantity",title:"enter your name",required:""},domProps:{value:t.editing_data.quantity},on:{input:function(n){n.target.composing||t.$set(t.editing_data,"quantity",n.target.value)}}}),t._v("\n            ")]),t._v("\n\n            "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.is_loading,expression:"!is_loading"}]},[t._v("\n                "),t.editing_option_images!=[]?n("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._v("\n                    "),n("thead",[t._v("\n                        "),n("tr",[t._v("\n                            "),n("th",[t._v("Image")]),t._v("\n                            "),n("th",[t._v("|")]),t._v("\n                            "),n("th",[t._v("Delite")]),t._v("\n                        ")]),t._v("\n                    ")]),t._v("\n\n                    "),n("tbody",[t._v("\n                        "),t._l(t.editing_option_images,(function(i){return n("tr",{key:i.id},[t._v("\n                            "),n("td",[t._v("\n                                "),t._v("\n                                    "),n("img",{staticClass:"img-responsive",attrs:{src:"../../../../images/product_option_img/"+i.image,alt:i.title}}),t._v("\n                                "),t._v("\n                            ")]),t._v("\n                            "),n("td",[t._v("|")]),t._v("\n                            "),n("td",[t._v("\n                            "),n("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.del_option_image_from_db(i.id)}}},[t._v("Delete")]),t._v("\n                        ")]),t._v("\n                    ")])})),t._v("\n                ")],2),t._v("\n            ")]):t._e(),t._v("\n\n                "),n("button",{staticClass:"btn btn-primary float-left",on:{click:function(n){return t.add_new_option_image_value()}}},[t._v("Add new mount route image")]),t._v("\n                "),t.editing_option_images?n("table",{staticClass:"table table-hover",attrs:{id:"dev-table"}},[t._v("\n                    "),n("thead",[t._v("\n                        "),n("tr",[t._v("\n                            "),n("th",[t._v("Image")]),t._v("\n                            "),n("th",[t._v("|")]),t._v("\n                            "),n("th",[t._v("Delite")]),t._v("\n                        ")]),t._v("\n                    ")]),t._v("\n\n                    "),n("tbody",[t._v("\n                        "),t._l(t.adding_option_images,(function(i){return n("tr",{key:i.id},[t._v("\n                            "),n("td",[t._v("\n                                "),n("form",{ref:"myForm",refInFor:!0},[t._v("\n                                    "),n("input",{attrs:{type:"file",name:"image",id:"image"},on:{change:function(n){return t.onFileChange(n,i.id)}}}),t._v("\n                                ")]),t._v(" \n                            ")]),t._v("\n                            "),n("td",[t._v("|")]),t._v("\n                            "),n("td",[t._v("\n                                "),n("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.del_option_image(i.id)}}},[t._v("Delete")]),t._v("\n                            ")]),t._v("\n                        ")])})),t._v("\n                        "),t._v("\n                    ")],2),t._v("\n                ")]):t._e(),t._v("\n            ")]),t._v("\n        ")]),t._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",form:"edit_new_option"}},[t._v("Update option")])])])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-groupe"})])},function(){var t=this._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("hr")])])},function(){var t=this,n=t._self._c;return n("thead",[n("tr",[n("th",[t._v("Option id")]),t._v(" "),n("th",[t._v("|")]),t._v(" "),n("th",[t._v("Option name")]),t._v(" "),n("th",[t._v("|")]),t._v(" "),n("th",[t._v("Edit")]),t._v(" "),n("th",[t._v("|")]),t._v(" "),n("th",[t._v("Delite")])])])}],!1,null,"1d752d0c",null).exports}}]);