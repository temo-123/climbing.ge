"use strict";(self.webpackChunkclimbing_loc=self.webpackChunkclimbing_loc||[]).push([[4107],{539:(o,t,a)=>{a.d(t,{Z:()=>_});var l=a(1519),e=a.n(l)()((function(o){return o[1]}));e.push([o.id,".genera_block_action_but label{background-color:#ffc9c9;border:1px solid #424242!important}",""]);const _=e},6049:(o,t,a)=>{a.d(t,{Z:()=>r});var l=a(4443);const e={mixins:[l.z],props:{title_prop:{type:String,default:"Title error"},value_name_prop:{type:String,default:""},form_data_prop:{type:String,default:""},form_value_name_prop:{type:String,default:""},block_action_prop:{type:String,default:"new_info"},block_id_prop:{type:Number,default:0},locale_prop:{type:String},get_data_in_component_prop:{type:Boolean,default:!0},global_data_array_prop:{type:Array,default:[]}},data:function(){return{text_editor_config:l.z.get_big_editor_config(),general_infos:[],form_data:this.form_data_prop,locale:this.locale_prop,form_value_name:this.form_value_name_prop,value_name:this.value_name_prop,global_blocks:{block_action:"new_info",block_id:0}}},mounted:function(){1==this.get_data_in_component_prop&&this.get_general_info(),this.global_blocks.block_action=this.block_action_prop,this.global_blocks.block_id=this.block_id_prop,this.general_infos=this.global_data_array_prop},watch:{block_action_prop:function(){this.global_blocks.block_action=this.block_action_prop},block_id_prop:function(){this.global_blocks.block_id=this.block_id_prop},global_data_array_prop:function(){0==this.get_data_in_component_prop&&(this.general_infos=this.global_data_array_prop)}},methods:{get_general_info:function(){var o=this;1==this.get_data_in_component_prop&&axios.get("../../../api/general_info/").then((function(t){o.general_infos=t.data})).catch((function(o){return console.log(o)}))},input_event:function(){this.$emit("get_form_data",{locale:this.locale,form_data:this.form_data,form_value_name:this.form_value_name})},block_action:function(o){this.global_blocks.block_action=o,this.$emit("get_global_blocks_status",{value_name:this.value_name,block_action:this.global_blocks.block_action})},block_id:function(){this.$emit("get_global_blocks_id",{value_name:this.value_name,block_id:this.global_blocks.block_id})}}};var _=a(3379),i=a.n(_),n=a(539),c={insert:"head",singleton:!1};i()(n.Z,c);n.Z.locals;const r=(0,a(1900).Z)(e,(function(){var o=this,t=o._self._c;return t("div",{staticClass:"tabs"},[o.general_infos.length?t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3 genera_block_action_but"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.global_blocks.block_action,expression:"global_blocks.block_action"}],attrs:{type:"radio",id:o.locale+"_"+o.value_name+"_new_info",name:"fav_language",value:"new_info"},domProps:{checked:o._q(o.global_blocks.block_action,"new_info")},on:{click:function(t){return o.block_action("new_info")},change:function(t){return o.$set(o.global_blocks,"block_action","new_info")}}}),o._v(" "),t("label",{attrs:{for:o.locale+"_"+o.value_name+"_new_info"}},[o._v("New info")]),t("br")]),o._v(" "),t("div",{staticClass:"col-md-3 genera_block_action_but"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.global_blocks.block_action,expression:"global_blocks.block_action"}],attrs:{type:"radio",id:o.locale+"_"+o.value_name+"_befor",name:"fav_language",value:"befor"},domProps:{checked:o._q(o.global_blocks.block_action,"befor")},on:{click:function(t){return o.block_action("befor")},change:function(t){return o.$set(o.global_blocks,"block_action","befor")}}}),o._v(" "),t("label",{attrs:{for:o.locale+"_"+o.value_name+"_befor"}},[o._v("Befor")]),t("br")]),o._v(" "),t("div",{staticClass:"col-md-3 genera_block_action_but"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.global_blocks.block_action,expression:"global_blocks.block_action"}],attrs:{type:"radio",id:o.locale+"_"+o.value_name+"_after",name:"fav_language",value:"after"},domProps:{checked:o._q(o.global_blocks.block_action,"after")},on:{click:function(t){return o.block_action("after")},change:function(t){return o.$set(o.global_blocks,"block_action","after")}}}),o._v(" "),t("label",{attrs:{for:o.locale+"_"+o.value_name+"_after"}},[o._v("After")]),t("br")]),o._v(" "),t("div",{staticClass:"col-md-3 genera_block_action_but"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.global_blocks.block_action,expression:"global_blocks.block_action"}],attrs:{type:"radio",id:o.locale+"_"+o.value_name+"_instead",name:"fav_language",value:"instead"},domProps:{checked:o._q(o.global_blocks.block_action,"instead")},on:{click:function(t){return o.block_action("instead")},change:function(t){return o.$set(o.global_blocks,"block_action","instead")}}}),o._v(" "),t("label",{attrs:{for:o.locale+"_"+o.value_name+"_instead"}},[o._v("Instead")])])])]):o._e(),o._v(" "),t("div",{staticClass:"form-group clearfix row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"name"}},[o._v(" "+o._s(o.title_prop)+" ")]),o._v(" "),t("div",{staticClass:"col-md-10"},["befor"==o.global_blocks.block_action?t("div",{staticClass:"col-md-12"},[t("select",{directives:[{name:"model",rawName:"v-model",value:o.global_blocks.block_id,expression:"global_blocks.block_id"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(o){return o.selected})).map((function(o){return"_value"in o?o._value:o.value}));o.$set(o.global_blocks,"block_id",t.target.multiple?a:a[0])},function(t){return o.block_id()}]}},o._l(o.general_infos,(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[o._v(o._s(a.title))])})),0)]):o._e(),o._v(" "),"befor"==o.global_blocks.block_action||"after"==o.global_blocks.block_action||"new_info"==o.global_blocks.block_action?t("div",{staticClass:"col-md-12"},[t("ckeditor",{attrs:{config:this.text_editor_config},on:{input:o.input_event},model:{value:o.form_data,callback:function(t){o.form_data=t},expression:"form_data"}})],1):o._e(),o._v(" "),"after"==o.global_blocks.block_action||"instead"==o.global_blocks.block_action?t("div",{staticClass:"col-md-12"},[t("select",{directives:[{name:"model",rawName:"v-model",value:o.global_blocks.block_id,expression:"global_blocks.block_id"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(o){return o.selected})).map((function(o){return"_value"in o?o._value:o.value}));o.$set(o.global_blocks,"block_id",t.target.multiple?a:a[0])},function(t){return o.block_id()}]}},o._l(o.general_infos,(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[o._v(o._s(a.title))])})),0)]):o._e()])])])}),[],!1,null,null,null).exports},4107:(o,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(2586),e=a.n(l),_=a(6049);const i={components:{StackModal:e(),GlobalInfoFormBlock:_.Z},mixins:[],props:["global_blocks_prop","title","description"],data:function(){return{category:this.$route.params.article_category,errors:[],error:[],editor_config:{short_description_text:this.$editor_config.get_small_editor_config(),text:this.$editor_config.get_big_editor_config(),how_get:this.$editor_config.get_big_editor_config(),price_text:this.$editor_config.get_big_editor_config()},data:{title:"",short_description:"",text:"",route:"",how_get:"",best_time:"",what_need:"",info:"",time:""},general_infos:[],global_blocks:{info_block:"",routes_info:"",what_need_info:"",best_time:"",info_block_id:0,routes_info_id:0,what_need_info_id:0,best_time_id:0}}},mounted:function(){this.global_blocks=this.global_blocks_prop,this.get_general_info(),this.$emit("locale_form_data",this.data)},watch:{global_block:function(){this.global_blocks=this.global_blocks_prop}},methods:{uploader:function(o){o.plugins.get("FileRepository").createUploadAdapter=function(o){return new UploadAdapter(o)}},get_general_info:function(){var o=this;axios.get("../../../api/general_info/").then((function(t){o.general_infos=t.data})).catch((function(o){return console.log(o)}))},info_block_action:function(o){this.global_blocks.info_block=o,this.$emit("global_blocks",this.global_blocks)},best_time_action:function(o){this.global_blocks.best_time=o,this.$emit("global_blocks",this.global_blocks)},routes_action:function(o){this.global_blocks.routes_info=o,this.$emit("global_blocks",this.global_blocks)},what_need_block_action:function(o){this.global_blocks.what_need_info=o,this.$emit("global_blocks",this.global_blocks)}}};const n=(0,a(1900).Z)(i,(function(){var o=this,t=o._self._c;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"jumbotron width_100"},[t("div",{staticClass:"container"},[t("h2",{staticClass:"display-4"},[t("span",{staticStyle:{"text-transform":"capitalize"}},[o._v(o._s(this.category))]),o._v(" "+o._s(this.title))]),o._v(" "),t("p",{staticClass:"lead"},[o._v(o._s(this.description))])])]),o._v(" "),t("div",{staticClass:"wrapper container-fluid container"},[t("form",{attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),o.add_article.apply(null,arguments)}}},[t("div",{staticClass:"form-group clearfix row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"name"}},[o._v(" Title ")]),o._v(" "),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.data.title,expression:"data.title"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:o.data.title},on:{input:function(t){t.target.composing||o.$set(o.data,"title",t.target.value)}}}),o._v(" "),o.errors.title?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[o._v("\n                            "+o._s(o.errors.title[0])+"\n                        ")]):o._e()])]),o._v(" "),t("div",{staticClass:"form-group clearfix row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"name"}},[o._v(" Short description ")]),o._v(" "),t("div",{staticClass:"col-md-10"},[t("ckeditor",{attrs:{config:o.short_description_text_editor},model:{value:o.data.short_description,callback:function(t){o.$set(o.data,"short_description",t)},expression:"data.short_description"}}),o._v(" "),o.errors.short_description?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[o._v("\n                            "+o._s(o.errors.short_description[0])+"\n                        ")]):o._e()],1)]),o._v(" "),t("div",{staticClass:"form-group clearfix row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"name"}},[o._v(" text ")]),o._v(" "),t("div",{staticClass:"col-md-10"},[t("ckeditor",{attrs:{id:"text",editor:"text",config:o.text_editor_config},model:{value:o.data.text,callback:function(t){o.$set(o.data,"text",t)},expression:"data.text"}})],1)]),o._v(" "),"mount_route"!=this.category?t("div",{staticClass:"form-group clearfix row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"name"}},[o._v(" How to get hear ")]),o._v(" "),t("div",{staticClass:"col-md-10"},[t("ckeditor",{attrs:{config:this.$editorConfig},model:{value:o.data.how_get,callback:function(t){o.$set(o.data,"how_get",t)},expression:"data.how_get"}})],1)]):o._e(),o._v(" "),"outdoor"==this.category?t("hr"):o._e(),o._v(" "),t("GlobalInfoFormBlock",{attrs:{title_prop:"Routes description",form_value_name_prop:"route",form_data_prop:o.data.route,locale_prop:o.locale_prop,block_action_prop:o.global_blocks.routes_info,block_id_prop:o.global_blocks.routes_info_id,value_name_prop:"routes_info",global_data_array_prop:o.general_infos,get_data_in_component_prop:!1},on:{get_form_data:o.get_value_insert_text,get_global_blocks_status:o.get_global_blocks_status_action,get_global_blocks_id:o.get_global_blocks_id}}),o._v(" "),t("GlobalInfoFormBlock",{attrs:{title_prop:"Best time for climbing",form_value_name_prop:"best_time",form_data_prop:o.data.best_time,locale_prop:o.locale_prop,block_action_prop:o.global_blocks.best_time,block_id_prop:o.global_blocks.best_time_id,value_name_prop:"best_time",global_data_array_prop:o.general_infos,get_data_in_component_prop:!1},on:{get_form_data:o.get_value_insert_text,get_global_blocks_status:o.get_global_blocks_status_action,get_global_blocks_id:o.get_global_blocks_id}}),o._v(" "),"outdoor"==this.category||"ice"==this.category||"mount_route"==this.category?t("hr"):o._e(),o._v(" "),t("GlobalInfoFormBlock",{attrs:{title_prop:"What you need",form_value_name_prop:"what_need",form_data_prop:o.data.what_need,locale_prop:o.locale_prop,block_action_prop:o.global_blocks.what_need_info,block_id_prop:o.global_blocks.what_need_info_id,value_name_prop:"what_need_info",global_data_array_prop:o.general_infos,get_data_in_component_prop:!1},on:{get_form_data:o.get_value_insert_text,get_global_blocks_status:o.get_global_blocks_status_action,get_global_blocks_id:o.get_global_blocks_id}}),o._v(" "),t("hr"),o._v(" "),t("GlobalInfoFormBlock",{attrs:{title_prop:"Contact info",form_value_name_prop:"info",form_data_prop:o.data.info,locale_prop:o.locale_prop,block_action_prop:o.global_blocks.info_block,block_id_prop:o.global_blocks.info_block_id,value_name_prop:"info_block",global_data_array_prop:o.general_infos,get_data_in_component_prop:!1},on:{get_form_data:o.get_value_insert_text,get_global_blocks_status:o.get_global_blocks_status_action,get_global_blocks_id:o.get_global_blocks_id}}),o._v(" "),"indoor"==this.category?t("div",{staticClass:"form-group clearfix row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"name"}},[o._v(" Price description ")]),o._v(" "),t("div",{staticClass:"col-md-10"},[t("ckeditor",{attrs:{config:this.$editorConfig},model:{value:o.data.price_text,callback:function(t){o.$set(o.data,"price_text",t)},expression:"data.price_text"}})],1)]):o._e()],1)])])}),[],!1,null,null,null).exports}}]);