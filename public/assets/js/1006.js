"use strict";(self.webpackChunkclimbing_loc=self.webpackChunkclimbing_loc||[]).push([[1006],{1006:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});var s=o(6247),r=o(2586);const a={components:{StackModal:o.n(r)(),SlickItem:s.SlickItem,SlickList:s.SlickList},props:[],data:function(){return{sectors:[],filtred_sectors:[],outdoor_areas:[],sectors_loading:!1,add_sector_modal:!1,selected_sector:"Select sector",selected_outdoor_area:"Select outdoor area",image_sectors:[],data:{title:"",image:""}}},mounted:function(){this.get_all_outdoor_areas(),this.get_all_sectors()},methods:{get_all_outdoor_areas:function(){var t=this;this.sectors_loading=!0,axios.post("../../api/article/",{category:"outdoor"}).then((function(e){t.outdoor_areas=e.data})).catch((function(t){return console.log(t)})).finally((function(){return t.sectors_loading=!1}))},get_all_sectors:function(){var t=this;axios.get("../../api/sector/").then((function(e){t.sectors=e.data})).catch((function(t){return console.log(t)}))},get_region_sectors:function(){if("Select outdoor area"!=this.selected_outdoor_area&&"All sectors"!=this.selected_outdoor_area){var t=this;this.filtred_sectors=this.sectors.filter((function(e){return e.article_id==t.selected_outdoor_area}))}else"Select outdoor area"!=this.selected_outdoor_area&&this.selected_outdoor_area,this.filtred_sectors=this.sectors},close_add_sector_modal:function(){this.selected_sector="Select sector",this.add_sector_modal=!1},add_new_sector_model:function(){this.add_sector_modal=!0},add_sector_from_modal:function(t){this.$emit("sector",this.selected_sector),this.close_add_sector_modal()}}};const l=(0,o(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("stack-modal",{attrs:{show:t.add_sector_modal,title:"Add sector",saveButton:{visible:!0,title:"Save",btnClass:{"btn btn-primary":!0}},cancelButton:{visible:!1,title:"Close",btnClass:{"btn btn-danger":!0}}},on:{close:t.close_add_sector_modal}},[e("pre",{staticClass:"language-vue"},[t._v("        "),e("form",{staticClass:"form",attrs:{id:"add_new_sector"},on:{submit:function(e){return e.preventDefault(),t.add_sector_from_modal.apply(null,arguments)}}},[t._v("\n            "),t._v("\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_outdoor_area,expression:"selected_outdoor_area"}],staticClass:"form-control",attrs:{name:"comment delete cause"},on:{click:function(e){return t.get_region_sectors()},change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected_outdoor_area=e.target.multiple?o:o[0]}}},[t._v(" \n                "),e("option",{attrs:{value:"Select outdoor area",disabled:""}},[t._v("Select outdoor area")]),t._v("\n                "),e("option",{attrs:{value:"All sectors"}},[t._v("Show all sectors")]),t._v("\n                "),t._l(t.outdoor_areas,(function(o){return e("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.url_title))])})),t._v("\n            ")],2),t._v("\n\n            "),t.sectors_loading||0==t.sectors.length?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_sector,expression:"selected_sector"}],staticClass:"form-control",attrs:{name:"comment delete cause"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected_sector=e.target.multiple?o:o[0]}}},[t._v(" \n                "),e("option",{attrs:{value:"Select sector",disabled:""}},[t._v("Select sector")]),t._v("\n                "),t._l(t.filtred_sectors,(function(o){return e("option",{key:o.id,domProps:{value:{id:o.id,name:o.name}}},[t._v(t._s(o.name))])})),t._v("\n            ")],2),t._v("\n\n            "),t.sectors_loading?e("img",{attrs:{src:"../../../public/images/site_img/loading.gif",alt:"loading"}}):t._e(),t._v("\n        ")]),t._v("\n    ")]),t._v(" "),e("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",form:"add_new_sector"}},[t._v("Add new sector")])])])])}),[],!1,null,null,null).exports}}]);